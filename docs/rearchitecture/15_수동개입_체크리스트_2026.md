# 15. 수동개입 체크리스트 (자리 비울 때 대기용)

이 문서는 자동화로 처리할 수 없는 항목만 분리한 목록입니다.

## A. 계정/권한 (사용자 개입 필요)
- [ ] AWS 계정 ID 확정: `111111111111` -> 실제 값으로 교체
- [ ] IAM 사용자/Role 발급 및 권한 확인(ECR/EKS/Route53/ACM)
- [ ] GitHub 리포지토리 Secrets 등록
  - [ ] `AWS_ACCESS_KEY_ID`
  - [ ] `AWS_SECRET_ACCESS_KEY`
  - [ ] `AWS_REGION`
  - [ ] `EKS_CLUSTER_NAME`

## B. 도메인/인증서 (사용자 개입 필요)
- [ ] Route53 Hosted Zone 확정: `example.com` -> 실제 도메인
- [ ] ACM 인증서 발급(리전 일치)
- [ ] `infra/k8s/base/ingress.yaml`의 인증서 ARN 교체
  - 현재 더미: `arn:aws:acm:ap-northeast-2:111111111111:certificate/REPLACE_ME`

## C. 비밀정보/외부 API 키 (더미 유지)
- [ ] `infra/k8s/base/app-secret.yaml`
  - [ ] `DB_PASSWORD` 실제값
  - [ ] `EXTERNAL_MARKET_API_KEY`
  - [ ] `EXTERNAL_NEWS_API_KEY`
- [ ] `infra/k8s/base/mysql.yaml`의 `MYSQL_ROOT_PASSWORD` 실제값

## D. 이미지 경로 교체 (사용자 개입 필요)
- [ ] `infra/k8s/base/server.yaml`
  - `ghcr.io/REPLACE_ORG/playasset-server:latest` -> 실제 경로
- [ ] `infra/k8s/base/web.yaml`
  - `ghcr.io/REPLACE_ORG/playasset-web:latest` -> 실제 경로
- [ ] `infra/k8s/base/portfolio-service.yaml`
  - placeholder 이미지를 실제 포트폴리오 서비스 이미지로 교체

## E. 운영 전환 시점 결정 (사용자 개입 필요)
- [ ] 포트폴리오 마이크로서비스 활성화 시점
  - 현재 `replicas: 0` (비활성)
  - 활성화 시 `replicas >= 1`로 변경
- [ ] Kafka 운영 형태 결정
  - 현재 단일 노드 KRaft
  - 운영: MSK 또는 멀티 브로커

## F. 배포 직전 최종 확인
- [ ] `kubectl apply -k infra/k8s/base`
- [ ] `kubectl get ingress -n playasset` ALB 생성 확인
- [ ] `https://app.<실제도메인>` 접속 확인
- [ ] API 헬스체크 확인 `/actuator/health`

## G. OTA(Shorebird) 운영 준비
- [ ] Shorebird 계정 로그인/앱 연결 (`shorebird login`, `shorebird init`)
- [ ] GitHub Secrets 등록
  - [ ] `SHOREBIRD_TOKEN`
  - [ ] `SHOREBIRD_APP_ID`
- [ ] 기준 릴리즈 1회 수행 (`shorebird release --android`)
- [ ] OTA patch 파이프라인 점검 (`.github/workflows/shorebird-ota.yml`)

## 참고
- 자동화 가능한 코드/인프라 반영은 이미 저장소에 적용 완료
- 위 목록은 계정/비밀값/도메인 소유권 때문에 자동처리 불가한 항목만 남김
